Homework2
================
Yang Zhao - yz4717
2023-09-30

- [Question 1](#question-1)
- [??????](#section)
- [Question 2](#question-2)

``` r
library(tidyverse)
library(readxl)
```

## Question 1

``` r
pols_df = read_csv("pols-month.csv") |> 
  janitor::clean_names() |> 
  separate(mon, "-",into = c("year","month","day")) |> 
  mutate(
    month = case_match(
      month, 
      "01" ~ "jan",
      "02" ~ "feb",
      "03" ~ "mar",
      "04" ~ "apr",
      "05" ~ "may",
      "06" ~ "jun",
      "07" ~ "jul",
      "08" ~ "aug",
      "09" ~ "sep",
      "10" ~ "oct", 
      "11" ~ "nov", 
      "12" ~ "dec")) |> 
  mutate(president = recode(
    prez_gop, "0" = "dem",
    "1" = "gop", "2" = "gop")) |> 
  select(-prez_gop,-day,-prez_dem)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_df|> head()
```

    ## # A tibble: 6 × 9
    ##   year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1 1947  jan        23      51     253      23      45     198 dem      
    ## 2 1947  feb        23      51     253      23      45     198 dem      
    ## 3 1947  mar        23      51     253      23      45     198 dem      
    ## 4 1947  apr        23      51     253      23      45     198 dem      
    ## 5 1947  may        23      51     253      23      45     198 dem      
    ## 6 1947  jun        23      51     253      23      45     198 dem

This data frame’s size is 822 \* 9

``` r
snp_df = read_csv("snp.csv") |> 
  janitor::clean_names() |> 
  separate(date,"/",into=c("month","day","year"))|> 
  arrange(year,month) |> 
  select(year,month,close)

snp_df$year = as.Date(snp_df$year,format = "%y",by = "decreasing")
```

## ??????

``` r
umploy_df = read_csv("unemployment.csv") |> 
  janitor::clean_names() |> 
  pivot_longer(jan:dec,
               names_to = "month",
               values_to = "umploy")
```

``` r
pols_df$year = as.double(pols_df$year)
snp_df$year = as.double(snp_df$year)

merged_df = pols_df |>
  left_join(snp_df) |> 
  left_join(umploy_df)
```

    ## Joining with `by = join_by(year, month)`
    ## Joining with `by = join_by(year, month)`

``` r
(merged_df)
```

    ## # A tibble: 822 × 11
    ##     year month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##    <dbl> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ##  1  1947 jan        23      51     253      23      45     198 dem          NA
    ##  2  1947 feb        23      51     253      23      45     198 dem          NA
    ##  3  1947 mar        23      51     253      23      45     198 dem          NA
    ##  4  1947 apr        23      51     253      23      45     198 dem          NA
    ##  5  1947 may        23      51     253      23      45     198 dem          NA
    ##  6  1947 jun        23      51     253      23      45     198 dem          NA
    ##  7  1947 jul        23      51     253      23      45     198 dem          NA
    ##  8  1947 aug        23      51     253      23      45     198 dem          NA
    ##  9  1947 sep        23      51     253      23      45     198 dem          NA
    ## 10  1947 oct        23      51     253      23      45     198 dem          NA
    ## # ℹ 812 more rows
    ## # ℹ 1 more variable: umploy <dbl>

## Question 2

``` r
mrt_df = read_excel(
  "202207 Trash Wheel Collection Data.xlsx",
  cell_cols("A:N"),
  sheet = "Mr. Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30,
         wheel = c("mr"))|> 
  relocate(wheel,dumpster,year,month) |> 
  select(-glass_bottles,-grocery_bags,-chip_bags,-sports_balls)

mrt_df$year = as.double(mrt_df$year)
```

``` r
proft_df = read_excel(
  "202207 Trash Wheel Collection Data.xlsx",
  range = cell_cols("A:M"),
  sheet = "Professor Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30,
         wheel = c("prof"))|> 
  relocate(wheel,dumpster,year,month) |> 
  select(-glass_bottles,-grocery_bags,-chip_bags)
```

``` r
gwyt_df = read_excel(
  "202207 Trash Wheel Collection Data.xlsx",
  range = cell_cols("A:K"),
  sheet = "Gwynnda Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30,
         wheel = c("gwy"))|> 
  relocate(wheel,dumpster,year,month) |> 
  select(-plastic_bags)
```

``` r
q2_merged = rbind(gwyt_df,mrt_df,proft_df) |> 
  separate(date,"-",into = c("year1","month1","day")) |> 
  select(-year1,-month1) |> 
  relocate(year,month,day) |> 
  arrange(year,month,day)
```

\##Question 3

``` r
amy_df = read_csv("mci_amyloid.csv")

base_df = read_csv("MCI_baseline.csv")
```
